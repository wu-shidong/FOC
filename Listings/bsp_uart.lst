C251 COMPILER V5.60.0,  bsp_uart                                                           28/06/23  11:24:31  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE bsp_uart
OBJECT MODULE PLACED IN .\Objects\bsp_uart.obj
COMPILER INVOKED BY: D:\Keil_v5\C251\BIN\C251.EXE Bsp\bsp_uart.c LARGE INTR2 BROWSE INCDIR(.\Application;.\Bsp;.\Compone
                    -nets;.\Lib) DEBUG PRINT(.\Listings\bsp_uart.lst) TABS(2) OBJECT(.\Objects\bsp_uart.obj) 

stmt  level    source

    1          #include "bsp_uart.h"
    2          #include  "STC32G_NVIC.h"
    3          
    4          
    5          //PrintString1("STC32G UART1 Test Programme!\r\n"); //UART1发送一个字符串
    6          void  UART_config(void)
    7          {
    8   1        COMx_InitDefine   COMx_InitStructure;         //结构定义
    9   1      
   10   1        COMx_InitStructure.UART_Mode      = UART_8bit_BRTx; //模式, UART_ShiftRight,UART_8bit_BRTx,UART_9bit,UAR
             -T_9bit_BRTx
   11   1        COMx_InitStructure.UART_BRT_Use   = BRT_Timer1;     //选择波特率发生器, BRT_Timer1, BRT_Timer2 (注意: 串口
             -2固定使用BRT_Timer2)
   12   1        COMx_InitStructure.UART_BaudRate  = 115200ul;     //波特率, 一般 110 ~ 115200
   13   1        COMx_InitStructure.UART_RxEnable  = ENABLE;       //接收允许,   ENABLE或DISABLE
   14   1        COMx_InitStructure.BaudRateDouble = DISABLE;      //波特率加倍, ENABLE或DISABLE
   15   1        UART_Configuration(UART1, &COMx_InitStructure);   //初始化串口1 UART1,UART2,UART3,UART4
   16   1        NVIC_UART1_Init(ENABLE,Priority_1);   //中断使能, ENABLE/DISABLE; 优先级(低到高) Priority_0,Priority_1,Pr
             -iority_2,Priority_3
   17   1        UART1_SW(UART1_SW_P30_P31);   //UART1_SW_P30_P31,UART1_SW_P36_P37,UART1_SW_P16_P17,UART1_SW_P43_P44
   18   1      }
   19          
   20          
   21          //    if(COM1.RX_TimeOut > 0)   //超时计数
   22          //    {
   23          //      if(--COM1.RX_TimeOut == 0)
   24          //      {
   25          //        if(COM1.RX_Cnt > 0)
   26          //        {
   27          //          for(i=0; i<COM1.RX_Cnt; i++)  TX1_write2buff(RX1_Buffer[i]);  //收到的数据原样返回
   28          //        }
   29          //        COM1.RX_Cnt = 0;
   30          //      }
   31          //    }
   32          
   33          
   34          
   35          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =        64     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------          9
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.

C251 COMPILER V5.60.0,  bsp_uart                                                           28/06/23  11:24:31  PAGE 2   


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
