C251 COMPILER V5.60.0,  main                                                               28/06/23  23:26:12  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C251\BIN\C251.EXE main.c LARGE INTR2 BROWSE INCDIR(.\Application;.\Bsp;.\Componenets;.\L
                    -ib) DEBUG PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj) 

stmt  level    source

    1          #include "config.h"
    2          #include "main.h"
    3          #include "STC32G_Delay.h"
    4          #include "bsp_tim.h"
    5          #include "bsp_gpio.h"
    6          #include "bsp_uart.h"
    7          #include "bsp_pwm.h"
    8          #include "BLDC.h"
    9          void RCC_init(void);
   10          
   11          
   12          unsigned int cnt1;
   13          unsigned int cnt2;
   14          unsigned int dim;
   15          unsigned int i;
   16          void main(void)
   17          {
   18   1      
   19   1        RCC_init();
   20   1        GPIO_config();
   21   1        UART_config();
   22   1        Timer_config();
   23   1        PWM_config();
   24   1        bldc_openloop_init(&bldc_oplp,16,7);
   25   1        EA = 1;
   26   1        while (1)
   27   1        {
   28   2      
   29   2      //  TR0 = 0;
   30   2      //  cnt1=(TH0<<8)|TL0;
   31   2      //  TH0 = 0;
   32   2      //  TL0 = 0;
   33   2      //  TR0 = 1;
   34   2      //  printf("%u\r\n",cnt1/35*12);
   35   2      //  delay_ms(2);
   36   2        //velocityOpenloop(&bldc_oplp);
   37   2        //P67=~P67;
   38   2        velocityOpenloop(&bldc_oplp); 
   39   2      //  velocityOpenloop(&bldc_oplp); 
   40   2      //  velocityOpenloop(&bldc_oplp);
   41   2      
   42   2          
   43   2        }
   44   1      }
   45          
   46          
   47          
   48          void RCC_init(void)
   49          {
   50   1        WTST = 0;
   51   1        EAXSFR();   //扩展SFR(XFR)访问使能 
   52   1        CKCON = 0;      //提高访问XRAM速度
   53   1      }
   54          
   55          


Module Information          Static   Overlayable
------------------------------------------------
C251 COMPILER V5.60.0,  main                                                               28/06/23  23:26:12  PAGE 2   

  code size            =        71     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =         8     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
